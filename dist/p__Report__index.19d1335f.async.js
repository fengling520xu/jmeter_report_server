"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[307],{26234:function(P,g,n){n.d(g,{$l:function(){return y},Y6:function(){return x},mr:function(){return I},yl:function(){return v}});var R=n(30381),p=n.n(R);function x(u,l){var t=p()().valueOf(),a=p()().subtract(u,l).valueOf();return{currentStamp:t,agoTimestamp:a}}function I(u){if(u<=60)return"".concat(u,"s");var l=Math.floor(u/60),t=u%60;return"".concat(l,"m").concat(t,"s")}var v=function(l,t){return l.map(function(a){if(a.dataIndex==="project"){var s={},h=t.project;h.map(function(o){s[o]={text:o}}),a.valueEnum=s}if(a.dataIndex==="env"){var r={},T=t.env;T.map(function(o){r[o]={text:o}}),a.valueEnum=r}}),l},y=function(l,t){var a={};return l.map(function(s){s.hasOwnProperty(t)&&(a[s[t]]={text:s[t]})}),a}},57008:function(P,g,n){n.r(g),n.d(g,{default:function(){return F}});var R=n(67294),p=n(17061),x=n.n(p),I=n(42122),v=n.n(I),y=n(17156),u=n.n(y),l=n(46684),t=n(20550),a=n(22524),s=n(26234),h=n(75516),r=n(85893),T=[{dataIndex:"id",title:"\u6784\u5EFAID",align:"center",width:80,search:!1,render:function(i,e){var f="/detail/".concat(e.id);return(0,r.jsxs)(h.Link,{to:f,children:["#",e.id]})}},{title:"\u6240\u5C5E\u9879\u76EE",dataIndex:"project",align:"center",valueType:"select"},{title:"\u6267\u884C\u73AF\u5883",dataIndex:"env",align:"center"},{title:"\u6784\u5EFA\u65B9\u5F0F",dataIndex:"type",align:"center",valueEnum:{1:{text:"\u624B\u52A8"},0:{text:"\u81EA\u52A8"}},render:function(i,e){return e.type===1?"\u624B\u52A8":"\u81EA\u52A8"}},{title:"\u7528\u4F8B\u603B\u6570",dataIndex:"total",align:"center",search:!1,render:function(i,e){return(0,r.jsx)(t.Z,{color:"default",children:e.total})}},{title:"\u6210\u529F\u6570",dataIndex:"success",align:"center",search:!1,render:function(i,e){return(0,r.jsx)(t.Z,{color:"success",children:e.success})}},{title:"\u5931\u8D25\u6570",dataIndex:"fail",align:"center",search:!1,render:function(i,e){return(0,r.jsx)(t.Z,{color:"error",children:e.fail})}},{title:"\u901A\u8FC7\u7387",sorter:!0,dataIndex:"pass_rate",align:"center",search:!1,width:120,render:function(i,e){return e.pass_rate<1?(0,r.jsxs)(t.Z,{color:"error",children:[e.pass_rate*100,"%"]}):(0,r.jsxs)(t.Z,{color:"success",children:[e.pass_rate*100,"%"]})}},{title:"\u8017\u65F6",dataIndex:"duration",align:"center",search:!1,width:120,render:function(i,e){var f=(0,s.mr)(parseInt(e.duration));return(0,r.jsx)(t.Z,{color:"default",children:f})}},{title:"\u5F00\u59CB\u65F6\u95F4",dataIndex:"start_time",align:"center",width:180,valueType:"dateRange",render:function(i,e){return e.start_time}},{title:"\u64CD\u4F5C",align:"center",key:"option",search:!1,render:function(i,e,f,E){var j="/detail/".concat(e.id);return(0,r.jsx)(h.Link,{to:j,children:"\u67E5\u770B"})}}],o=function(){var i=(0,h.useModel)("base"),e=i.baseInfo;return(0,r.jsx)(l.Z,{style:{marginTop:"8px"},columns:(0,s.yl)(T,e),request:u()(x()().mark(function f(){var E,j,S,M,O,Z,c=arguments;return x()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return E=c.length>0&&c[0]!==void 0?c[0]:{},j=c.length>1?c[1]:void 0,S=c.length>2?c[2]:void 0,M=v()(v()(v()({},E),j),S),m.next=6,(0,a.MQ)(M).catch(function(L){console.log(L)});case 6:return O=m.sent,Z=O.data,m.abrupt("return",{data:Z});case 9:case"end":return m.stop()}},f)})),rowKey:"id",search:{labelWidth:"120"},options:!1,pagination:{pageSize:10},dateFormatter:"string",headerTitle:"\u6784\u5EFA\u5386\u53F2"})},A=o,C=n(35280);function D(){return(0,r.jsx)(C._z,{title:!1,children:(0,r.jsx)(A,{})})}var F=D}}]);
