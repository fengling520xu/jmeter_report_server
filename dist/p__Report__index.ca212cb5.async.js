"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[307],{26234:function(O,h,t){t.d(h,{Y6:function(){return p},mr:function(){return y},yl:function(){return v}});var E=t(30381),g=t.n(E);function p(l,i){var d=g()().valueOf(),n=g()().subtract(l,i).valueOf();return{currentStamp:d,agoTimestamp:n}}function y(l){if(l<=60)return"".concat(l,"s");var i=Math.floor(l/60),d=l%60;return"".concat(i,"m").concat(d,"s")}var v=function(i,d){return i.map(function(n){if(n.dataIndex==="project"){var x={},j=d.project;j.map(function(s){x[s]={text:s}}),n.valueEnum=x}if(n.dataIndex==="env"){var c={},r=d.env;r.map(function(s){c[s]={text:s}}),n.valueEnum=c}}),i}},57008:function(O,h,t){t.r(h),t.d(h,{default:function(){return F}});var E=t(67294),g=t(17061),p=t.n(g),y=t(42122),v=t.n(y),l=t(17156),i=t.n(l),d=t(46684),n=t(20550),x=t(22524),j=t(26234),c=t(75516),r=t(85893),s=[{dataIndex:"id",title:"\u6784\u5EFAID",align:"center",width:80,search:!1,render:function(a,e){var f="/detail/".concat(e.id);return(0,r.jsxs)(c.Link,{to:f,children:["#",e.id]})}},{title:"\u6240\u5C5E\u9879\u76EE",dataIndex:"project",align:"center",valueType:"select"},{title:"\u6267\u884C\u73AF\u5883",dataIndex:"env",align:"center"},{title:"\u6784\u5EFA\u65B9\u5F0F",dataIndex:"type",align:"center",valueEnum:{1:{text:"\u624B\u52A8"},0:{text:"\u81EA\u52A8"}},render:function(a,e){return e.type===1?"\u624B\u52A8":"\u81EA\u52A8"}},{title:"\u7528\u4F8B\u603B\u6570",dataIndex:"total",align:"center",search:!1,render:function(a,e){return(0,r.jsx)(n.Z,{color:"default",children:e.total})}},{title:"\u6210\u529F\u6570",dataIndex:"success",align:"center",search:!1,render:function(a,e){return(0,r.jsx)(n.Z,{color:"success",children:e.success})}},{title:"\u5931\u8D25\u6570",dataIndex:"fail",align:"center",search:!1,render:function(a,e){return(0,r.jsx)(n.Z,{color:"error",children:e.fail})}},{title:"\u901A\u8FC7\u7387",sorter:!0,dataIndex:"pass_rate",align:"center",search:!1,width:120,render:function(a,e){return e.pass_rate<1?(0,r.jsxs)(n.Z,{color:"error",children:[e.pass_rate*100,"%"]}):(0,r.jsxs)(n.Z,{color:"success",children:[e.pass_rate*100,"%"]})}},{title:"\u8017\u65F6",dataIndex:"duration",align:"center",search:!1,width:120,render:function(a,e){var f=(0,j.mr)(parseInt(e.duration));return(0,r.jsx)(n.Z,{color:"default",children:f})}},{title:"\u5F00\u59CB\u65F6\u95F4",dataIndex:"start_time",align:"center",width:180,valueType:"dateRange",render:function(a,e){return e.start_time}},{title:"\u64CD\u4F5C",align:"center",key:"option",search:!1,render:function(a,e,f,T){var I="/detail/".concat(e.id);return(0,r.jsx)(c.Link,{to:I,children:"\u67E5\u770B"})}}],A=function(){var a=(0,c.useModel)("base"),e=a.baseInfo;return(0,r.jsx)(d.Z,{style:{marginTop:"8px"},columns:(0,j.yl)(s,e),request:i()(p()().mark(function f(){var T,I,R,S,M,Z,o=arguments;return p()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return T=o.length>0&&o[0]!==void 0?o[0]:{},I=o.length>1?o[1]:void 0,R=o.length>2?o[2]:void 0,S=v()(v()(v()({},T),I),R),m.next=6,(0,x.MQ)(S).catch(function(L){console.log(L)});case 6:return M=m.sent,Z=M.data,m.abrupt("return",{data:Z});case 9:case"end":return m.stop()}},f)})),rowKey:"id",search:{labelWidth:"120"},options:!1,pagination:{pageSize:10},dateFormatter:"string",headerTitle:"\u6784\u5EFA\u5386\u53F2"})},C=A,D=t(35280);function P(){return(0,r.jsx)(D._z,{title:!1,children:(0,r.jsx)(C,{})})}var F=P}}]);
